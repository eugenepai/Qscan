<!DOCTYPE html>
<html>
<head>
    <script src="html5-qrcode.min.js"></script>
</head>

<body>
    <div id="reader" width="500px"></div>
    <div id="qrcodeContent"></div>


    <script>
        //  [3] Initialize
        function onScanSuccess(decodedText, decodedResult) {
            // Handle on success condition with the decoded text or result.
            document.getElementById("qrcodeContent").innerHTML = decodedResult;
            console.log('Scan result: ${decodedText}', decodedResult);
        }
        var html5QrcodeScanner = new Html5QrcodeScanner(
            "reader", { fps: 10, qrbox: 250 });
        html5QrcodeScanner.render(onScanSuccess);

        // [4] Optional - Stop scanning after the code is scanned? 
        var html5QrcodeScanner = new Html5QrcodeScanner(
            "reader", { fps: 10, qrbox: 250 });
                
        function onScanSuccess(decodedText, decodedResult) {
            // Handle on success condition with the decoded text or result.
            console.log('Scan result: ${decodedText}', decodedResult);
            // ...
            html5QrcodeScanner.clear();
            // ^ this will stop the scanner (video feed) and clear the scan area.
        }
        html5QrcodeScanner.render(onScanSuccess);

        // [5] Optional - Handle scan failure? ----------------------------------------
        function onScanSuccess(decodedText, decodedResult) {
            // Handle on success condition with the decoded text or result.
            console.log('Scan result: ${decodedText}', decodedResult);
        }

        function onScanError(errorMessage) {
            // handle on error condition, with error message
        }

        var html5QrcodeScanner = new Html5QrcodeScanner(
            "reader", { fps: 10, qrbox: 500 });
        html5QrcodeScanner.render(onScanSuccess, onScanError);

    </script>

</body>
</html>